{"openapi":"3.1.0","info":{"title":"Sundowner Service API","description":"This is the API for the Sundowner Service.","version":"v1"},"servers":[{"url":"http://localhost:8081/sundowner-service","description":"Generated server url"}],"tags":[{"name":"Spots","description":"API handling all sundowner spot requests."}],"paths":{"/api/v1/spots/":{"post":{"tags":["Spots"],"summary":"Create a new sunset spot","description":"Creates a new spot entity based on the provided location, description, and transport types. The spot name and other metadata are generated automatically by the server.","operationId":"createSpot","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSpotRequest"}}},"required":true},"responses":{"201":{"description":"Spot created successfully","content":{"application/json":{"schema":{"type":"integer","format":"int64","example":123}}}},"400":{"description":"Invalid input data provided"},"401":{"description":"Unauthorized - a valid authentication token is required"}},"security":[{"bearerAuth":[]}]}},"/api/v1/spots/public/":{"get":{"tags":["Spots"],"summary":"Get the most relevant points of the provided map viewport.","description":"Retrieves a list of points of interest (spots) located within the given bounding box and filtered based on zoom level and center coordinates.","operationId":"getPointsInView","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"minX","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"minY","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"maxX","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"maxY","in":"query","required":true,"schema":{"type":"number","format":"double"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MapSpotTO"}}}}},"400":{"description":"Bad Request - Invalid request parameters","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MapSpotTO"}}}}}}}}},"components":{"schemas":{"CoordinateTO":{"type":"object","description":"Transfer object for a simple longitude and latitude coordinate.","properties":{"lng":{"type":"number","format":"double","description":"The longitude of the coordinate."},"lat":{"type":"number","format":"double","description":"The latitude of the coordinate."}},"required":["lat","lng"]},"CreateSpotRequest":{"type":"object","description":"Request body for creating a new sunset spot on the map.","properties":{"type":{"type":"string","description":"The type of spot (e.g. sunrise or sunset)","enum":["SUNSET","SUNRISE"]},"location":{"$ref":"#/components/schemas/CoordinateTO","description":"The geographical coordinates of the sunset spot."},"description":{"type":"string","description":"A user-provided description of the spot (e.g., 'Quiet place with a great view over the valley').","example":"Perfect view of the old town during sunset.","maxLength":500},"transport":{"type":"array","description":"A list of recommended transport methods to reach the spot.","items":{"type":"string","enum":["BY_FOOT","CAR","BIKE","PUBLIC_TRANSPORT"]}}},"required":["location","transport","type"]},"MapSpotTO":{"type":"object","description":"Transfer object of the spot immediately shown on the map with the necessary details.","properties":{"id":{"type":"integer","format":"int64","description":"The ID of the element."},"location":{"$ref":"#/components/schemas/CoordinateTO","description":"The location of the spot."},"name":{"type":"string","description":"The name given to the spot."},"avgRating":{"type":"number","format":"double","description":"The overall rating of the spot.","maximum":10,"minimum":0}},"required":["id","location","name"]}}}}